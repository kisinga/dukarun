# =====================================
# Dukarun Environment Configuration
# =====================================
# Copy this file to .env and update with your values
# cp .env.example .env

# =====================================
# Docker Compose Project Name
# =====================================
# Required: Sets consistent network naming across compose files
COMPOSE_PROJECT_NAME=dukarun

# =====================================
# Database Configuration
# =====================================
# Main PostgreSQL database
DB_NAME=vendure
DB_USER=vendure
DB_USERNAME=vendure
DB_PASSWORD=changeme-secure-password
DB_SCHEMA=public
DB_HOST=localhost
DB_PORT=5432
POSTGRES_PORT=5432

# =====================================
# Audit Database Configuration (TimescaleDB)
# =====================================
AUDIT_DB_NAME=audit_logs
AUDIT_DB_USER=audit_user
AUDIT_DB_HOST=localhost
AUDIT_DB_USERNAME=audit_user
AUDIT_DB_PASSWORD=changeme-audit-password
AUDIT_DB_PORT=5433

# =====================================
# Redis Configuration
# =====================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# =====================================
# Application Configuration
# =====================================
NODE_ENV=production
PORT=3000
BACKEND_PORT=3000
FRONTEND_PORT=4200

# =====================================
# Security & Authentication
# =====================================
# Superadmin credentials (CHANGE IN PRODUCTION!)
SUPERADMIN_USERNAME=superadmin
SUPERADMIN_PASSWORD=changeme-secure-password

# Cookie secret for session encryption (CHANGE IN PRODUCTION!)
# Generate with: openssl rand -base64 32
COOKIE_SECRET=changeme-32-character-secret-key
COOKIE_SECURE=false

# =====================================
# CORS & Frontend Configuration
# =====================================
CORS_ORIGIN=http://localhost:4200
FRONTEND_URL=http://localhost:4200

# Frontend backend connection (Docker only)
BACKEND_HOST=backend
BACKEND_PORT=3000

# =====================================
# Asset Storage
# =====================================
ASSET_STORAGE_STRATEGY=LocalAssetStorageStrategy
ASSET_UPLOAD_DIR=/app/static/assets
ASSET_URL_PREFIX=

# =====================================
# Email Configuration (Optional)
# =====================================
MAIL_TRANSPORT=SMTP
SMTP_HOST=localhost
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=

# =====================================
# SMS Provider Configuration
# =====================================
# Provider: 'textsms' (default), 'africastalking', 'twilio', 'aws-sns'
SMS_PROVIDER=textsms

# TextSMS Configuration (default provider)
TEXTSMS_API_KEY=
TEXTSMS_PARTNER_ID=
TEXTSMS_SHORTCODE=

# AfricasTalking Configuration (alternative provider)
AFRICASTALKING_USERNAME=
AFRICASTALKING_API_KEY=
AFRICASTALKING_SENDER_ID=
AFRICASTALKING_ENVIRONMENT=production
AFRICASTALKING_API_URL=

# =====================================
# Push Notification Configuration (VAPID)
# =====================================
# Generate VAPID keys with: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_EMAIL=mailto:admin@dukarun.com
VAPID_SUBJECT=mailto:admin@dukarun.com

# =====================================
# Payment Provider Configuration
# =====================================
# Paystack (for subscriptions)
PAYSTACK_SECRET_KEY=
PAYSTACK_PUBLIC_KEY=

# =====================================
# ML/Webhook Configuration
# =====================================
ML_WEBHOOK_SECRET=

# =====================================
# Observability (SigNoz) Configuration
# =====================================
# Backend observability
SIGNOZ_ENABLED=false
SIGNOZ_HOST=localhost
SIGNOZ_OTLP_GRPC_PORT=4317
SIGNOZ_OTLP_HTTP_PORT=4318
SIGNOZ_SERVICE_NAME=dukarun-backend
SIGNOZ_SERVICE_VERSION=2.0.0
SIGNOZ_OTLP_GRPC_ENDPOINT=
SIGNOZ_OTLP_HTTP_ENDPOINT=

# Frontend observability
ENABLE_TRACING=false
SIGNOZ_ENDPOINT=/signoz/v1/traces
SERVICE_NAME=dukarun-frontend

# SigNoz UI (exposed to host)
SIGNOZ_UI_PORT=3301

# ClickHouse Configuration (for SigNoz storage)
CLICKHOUSE_DB=signoz
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=
CLICKHOUSE_SKIP_USER_SETUP=1

# OpenTelemetry Resource Attributes
OTEL_RESOURCE_ATTRIBUTES=service.name=dukarun,service.version=2.0.0

# =====================================
# Admin Notification Configuration
# =====================================
# Email/phone to receive new company registration alerts
# These settings notify platform admins when a new company registers
ADMIN_NOTIFICATION_EMAIL=admin@dukarun.com
ADMIN_NOTIFICATION_PHONE=0712345678
# Channels to use for admin notifications (comma-separated: email,sms)
ADMIN_NOTIFICATION_CHANNELS=email

# =====================================
# Logging
# =====================================
LOG_LEVEL=info

# =====================================
# Notes
# =====================================
# 1. In Docker: Service names are used for hostnames (e.g., postgres_db, redis, backend)
# 2. In local dev: Use localhost and override ports (e.g., DB_HOST=localhost, POSTGRES_PORT=5433)
# 3. Network: Services communicate via 'dukarun_services_network' (created by COMPOSE_PROJECT_NAME)
# 4. Security: Always change passwords and secrets before production deployment!
MAIL_TRANSPORT=smtp
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=test@dukarun.com
SMTP_PASS=your_password