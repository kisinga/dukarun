<div class="drawer lg:drawer-open">
  <input id="sa-drawer" type="checkbox" class="drawer-toggle" />

  <div class="drawer-content flex flex-col min-h-screen relative">
    <header
      class="navbar bg-base-100 border-b border-base-300 sticky top-0 z-40 min-h-16 px-4 sm:px-4 lg:px-6"
    >
      <div class="flex-none lg:hidden">
        <label for="sa-drawer" class="btn btn-ghost btn-square" aria-label="Open menu">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </label>
      </div>
      <div class="flex-1 min-w-0 px-2">
        <span class="font-bold text-lg">Super Admin</span>
      </div>
      <div class="flex-none">
        <button type="button" class="btn btn-ghost btn-sm" (click)="auth.logout()">Sign out</button>
      </div>
    </header>

    <main
      class="dashboard-main flex-1 overflow-auto bg-base-200/40 px-3 py-3 sm:px-4 sm:py-4 lg:px-6 lg:py-6 pb-20 lg:pb-6"
    >
      <router-outlet />
    </main>
  </div>

  <div class="drawer-side z-50">
    <label
      for="sa-drawer"
      class="drawer-overlay bg-base-content/50 backdrop-blur-md"
      aria-label="Close menu"
    ></label>
    <aside
      class="bg-base-100 text-base-content min-h-screen w-64 flex flex-col border-r border-base-300 shadow-2xl"
    >
      <div class="flex items-center px-4 border-b border-base-300 min-h-16">
        <span class="font-bold text-base-content">Menu</span>
      </div>

      <div class="flex-1 overflow-y-auto py-2 px-2">
        <nav class="space-y-1">
          <a
            [routerLink]="overviewItem.route"
            routerLinkActive="bg-base-200 text-primary font-bold border-l-2 border-primary"
            [routerLinkActiveOptions]="{ exact: true }"
            (click)="closeDrawer()"
            class="nav-link-ripple flex items-center gap-2.5 px-3 py-2.5 rounded-lg text-sm font-semibold text-base-content min-h-[2.75rem] active:bg-base-200 transition-colors"
          >
            <span
              class="w-8 h-8 rounded-lg flex items-center justify-center shrink-0 bg-base-200 text-base-content/70"
            >
              <app-nav-icon [name]="overviewItem.icon" />
            </span>
            <span>{{ overviewItem.label }}</span>
          </a>

          @for (section of navSections; track $index) {
            @if (section.label) {
              <div
                class="pt-3 pb-1 px-3 text-[10px] font-bold uppercase tracking-wider text-base-content/50"
              >
                {{ section.label }}
              </div>
            }
            @for (item of section.items; track item.route) {
              <a
                [routerLink]="item.route"
                [queryParams]="item.queryParams ?? {}"
                routerLinkActive="bg-base-200 text-primary font-bold border-l-2 border-primary"
                [routerLinkActiveOptions]="{ exact: false }"
                (click)="closeDrawer()"
                class="nav-link-ripple flex items-center gap-2.5 px-3 py-2.5 rounded-lg text-sm font-semibold text-base-content min-h-[2.75rem] active:bg-base-200 transition-colors"
              >
                <span
                  class="w-8 h-8 rounded-lg flex items-center justify-center shrink-0 bg-base-200 text-base-content/70"
                >
                  <app-nav-icon [name]="item.icon" />
                </span>
                <span>{{ item.label }}</span>
              </a>
            }
          }
        </nav>
      </div>
    </aside>
  </div>
</div>
