/* ============================================
   dukarun - Global Styles
   Mobile-First Design System
   ============================================ */

// Import Design System — single source of truth (tokens, mixins, pattern classes)
@use 'styles/design-system' as ds;

// Animation utilities (anim-stagger, anim-fade-in, modal-*-anim, collapsible, etc.)
@use 'styles/animations';

// Dashboard layout + page styles (scoped under app-dashboard-layout and .dashboard-main)
@use 'styles/dashboard';

// Import Tailwind & daisyUI
@use 'tailwindcss';

@theme {
  --font-sans: #{ds.$font-family-sans};
  --font-mono: #{ds.$font-family-mono};
}

@plugin "daisyui" {
  themes: false;
  logs: false;
}

// Warm & Bold (light) — default theme; soft gray anchors, orange accents
@plugin "daisyui/theme" {
  name: light;
  default: true;
  prefersdark: false;
  color-scheme: light;

  --color-base-100: #fafafa;
  --color-base-200: #ebebeb;
  --color-base-300: #dedede;
  --color-base-content: #2b2b2f;
  --color-primary: #e85d2f;
  --color-primary-content: #ffffff;
  --color-secondary: #5a5a5a;
  --color-secondary-content: #fafafa;
  --color-accent: #f17a54;
  --color-accent-content: #ffffff;
  --color-neutral: #2b2b2f;
  --color-neutral-content: #fafafa;
  --color-info: #3b82f6;
  --color-info-content: #ffffff;
  --color-success: #22c55e;
  --color-success-content: #ffffff;
  --color-warning: #eab308;
  --color-warning-content: #1a1a1a;
  --color-error: #ef4444;
  --color-error-content: #ffffff;

  --radius-selector: 0.375rem;
  --radius-field: 0.5rem;
  --radius-box: 0.75rem;
  --size-selector: 0.25rem;
  --size-field: 0.25rem;
  --border: 1px;
  --depth: 1;
  --noise: 0;
}

// Dark — prefers-color-scheme: dark (slightly softened)
@plugin "daisyui/theme" {
  name: dark;
  default: false;
  prefersdark: true;
  color-scheme: dark;

  --color-base-100: #131316;
  --color-base-200: #1c1c1f;
  --color-base-300: #2a2a2e;
  --color-base-content: #e8e8e6;
  --color-primary: #e85d2f;
  --color-primary-content: #ffffff;
  --color-secondary: #71717a;
  --color-secondary-content: #f4f4f2;
  --color-accent: #f17a54;
  --color-accent-content: #ffffff;
  --color-neutral: #3f3f46;
  --color-neutral-content: #f4f4f2;
  --color-info: #3b82f6;
  --color-info-content: #ffffff;
  --color-success: #22c55e;
  --color-success-content: #ffffff;
  --color-warning: #eab308;
  --color-warning-content: #1a1a1a;
  --color-error: #ef4444;
  --color-error-content: #ffffff;

  --radius-selector: 0.375rem;
  --radius-field: 0.5rem;
  --radius-box: 0.75rem;
  --size-selector: 0.25rem;
  --size-field: 0.25rem;
  --border: 1px;
  --depth: 1;
  --noise: 0;
}

/* ============================================
   GLOBAL STYLES
   ============================================ */

:root {
  scroll-behavior: smooth;

  // Custom CSS variables for consistency
  --app-max-width: #{ds.$container-xl};
  --content-padding: #{ds.$space-4};
  --section-spacing: #{ds.$space-6};

  @media (min-width: #{ds.$tablet}) {
    --content-padding: #{ds.$space-6};
    --section-spacing: #{ds.$space-8};
  }

  @media (min-width: #{ds.$desktop}) {
    --content-padding: #{ds.$space-8};
    --section-spacing: #{ds.$space-12};
  }
}

/* ============================================
   BASE TYPOGRAPHY
   ============================================ */

body {
  font-family: ds.$font-family-sans;
  font-size: ds.$text-base;
  line-height: ds.$leading-normal;
  @include ds.text-smooth;

  @media (min-width: #{ds.$tablet}) {
    font-size: ds.$text-lg;
  }
}

// Headings
h1,
h2,
h3,
h4,
h5,
h6 {
  font-weight: ds.$font-bold;
  line-height: ds.$leading-tight;
  letter-spacing: ds.$tracking-tight;
}

h1 {
  font-size: ds.$text-4xl;

  @media (min-width: #{ds.$tablet}) {
    font-size: ds.$text-5xl;
  }
}

h2 {
  font-size: ds.$text-2xl;

  @media (min-width: #{ds.$tablet}) {
    font-size: ds.$text-3xl;
  }
}

h3 {
  font-size: ds.$text-xl;

  @media (min-width: #{ds.$tablet}) {
    font-size: ds.$text-2xl;
  }
}

// Paragraphs
p {
  margin-bottom: ds.$space-4;
}

/* ============================================
   UTILITY CLASSES
   ============================================ */

// Spacing utilities
.p-mobile {
  padding: ds.$space-3;
}
.p-tablet {
  @media (min-width: #{ds.$tablet}) {
    padding: ds.$space-4;
  }
}
.p-desktop {
  @media (min-width: #{ds.$desktop}) {
    padding: ds.$space-6;
  }
}

.gap-mobile {
  gap: ds.$space-2;
}
.gap-tablet {
  @media (min-width: #{ds.$tablet}) {
    gap: ds.$space-4;
  }
}
.gap-desktop {
  @media (min-width: #{ds.$desktop}) {
    gap: ds.$space-6;
  }
}

// Text utilities
.text-truncate {
  @include ds.truncate;
}
.text-tabular {
  @include ds.tabular-nums;
}
.line-clamp-2 {
  @include ds.line-clamp(2);
}
.line-clamp-3 {
  @include ds.line-clamp(3);
}

// Container
.container-app {
  width: 100%;
  max-width: var(--app-max-width);
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--content-padding);
  padding-right: var(--content-padding);
  box-sizing: border-box;
}

.container-app--narrow {
  max-width: 1024px;
}

// Section spacing
.section {
  padding-top: var(--section-spacing);
  padding-bottom: var(--section-spacing);
}

/* ============================================
   TOUCH OPTIMIZATIONS
   ============================================ */

@media (hover: none) and (pointer: coarse) {
  * {
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
  }

  button,
  a,
  input,
  select,
  textarea,
  [role='button'] {
    min-height: ds.$touch-min;
    min-width: ds.$touch-min;
  }
}

@media (max-width: 640px) {
  .input,
  .select,
  .textarea {
    font-size: 16px;
  }
}

/* ============================================
   ACCESSIBILITY
   ============================================ */

// Focus states
button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  @include ds.focus-ring;
}

// Reduced motion
// Reduced motion: animations still run to their end state (so fill-mode works)
// but complete near-instantly. This is better than `animation: none` which would
// leave elements stuck at opacity:0 if fill-mode is "both" or "backwards".
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-delay: 0ms !important;
    transition-duration: 0.01ms !important;
    transition-delay: 0ms !important;
    scroll-behavior: auto !important;
  }
}

/* ============================================
   PRINT STYLES
   ============================================ */

@media print {
  // Hide navigation, buttons, and non-printable elements
  .no-print,
  nav,
  header,
  footer,
  .btn,
  button:not(.print-only),
  .navbar,
  .sidebar,
  .pagination,
  .no-print * {
    display: none !important;
  }

  // Show print-only elements
  .print-only {
    display: block !important;
  }

  // Ensure full width for print
  body {
    margin: 0;
    padding: 0;
    background: white;
  }

  // Remove shadows and borders for cleaner print
  .card,
  .shadow,
  .shadow-lg {
    box-shadow: none !important;
    border: 1px solid #ddd;
  }

  // Ensure proper page breaks
  .page-break {
    page-break-before: always;
  }

  .no-page-break {
    page-break-inside: avoid;
  }

  // Optimize colors for print
  * {
    color-adjust: exact;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  // Hide shipping/fulfillment sections marked as hidden-print
  .hidden-print {
    display: none !important;
  }
}
