<app-navbar />

<!-- Structured Data for SEO -->
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "Dukarun",
    "applicationCategory": "BusinessApplication",
    "operatingSystem": "Web, iOS, Android",
    "offers": {
      "@type": "Offer",
      "priceCurrency": "KES",
      "price": "1500",
      "priceValidUntil": "2025-12-31",
      "availability": "https://schema.org/InStock",
      "url": "https://dukarun.com/signup"
    },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.8",
      "ratingCount": "500",
      "bestRating": "5",
      "worstRating": "1"
    },
    "description": "Point and sell POS system for Kenyan businesses. Works offline, accepts M-Pesa, requires no training.",
    "url": "https://dukarun.com",
    "logo": "https://dukarun.com/assets/logo/dukarun-withtext-light.svg",
    "screenshot": "https://dukarun.com/assets/logo/dukarun-withtext-light.svg",
    "featureList": [
      "Point-and-sell product recognition",
      "Offline-first POS with auto-sync",
      "Real-time inventory tracking",
      "M-Pesa payment integration",
      "Customer credit tracking",
      "Business intelligence dashboards"
    ],
    "areaServed": {
      "@type": "Country",
      "name": "Kenya"
    },
    "audience": {
      "@type": "BusinessAudience",
      "audienceType": "Small and Medium Enterprises",
      "geographicArea": {
        "@type": "Country",
        "name": "Kenya"
      }
    }
  }
</script>

<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Dukarun",
    "url": "https://dukarun.com",
    "logo": "https://dukarun.com/assets/logo/dukarun-withtext-light.svg",
    "description": "Point and sell POS system for Kenyan businesses",
    "address": {
      "@type": "PostalAddress",
      "addressCountry": "KE",
      "addressLocality": "Kenya"
    },
    "sameAs": ["https://twitter.com/dukarun", "https://facebook.com/dukarun"],
    "contactPoint": {
      "@type": "ContactPoint",
      "contactType": "Customer Service",
      "areaServed": "KE",
      "availableLanguage": "en"
    }
  }
</script>

<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What happens after my 30-day trial ends?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "After your free 30-day trial, you can upgrade to Pro (KES 1,500/month) to keep using all features, or pause your account. You can upgrade anytime. No credit card needed to start."
        }
      },
      {
        "@type": "Question",
        "name": "How does the product recognition work?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Take a few photos of each product labels. When you sell, just point your camera at the label and it recognizes it in seconds. Works great for items without barcodes. Barcode scanning also works if available."
        }
      },
      {
        "@type": "Question",
        "name": "Does it work without internet?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes! You can record up to 30 sales without internet. Everything is stored safely on your device. When you reconnect, it syncs automatically. Perfect for areas with unreliable internet."
        }
      },
      {
        "@type": "Question",
        "name": "Is my data safe?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes. Your business data is encrypted and kept private. We never share your information. Security is a top priority."
        }
      }
    ]
  }
</script>

<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What happens after my 30-day trial ends?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "After your free 30-day trial, you can upgrade to Pro (KES 1,500/month) to keep using all features, or pause your account. You can upgrade anytime. No credit card needed to start."
        }
      },
      {
        "@type": "Question",
        "name": "How does the product recognition work?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Take a few photos of each product labels. When you sell, just point your camera at the label and it recognizes it in seconds. Works great for items without barcodes. Barcode scanning also works if available."
        }
      },
      {
        "@type": "Question",
        "name": "Does it work without internet?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes! You can record up to 30 sales without internet. Everything is stored safely on your device. When you reconnect, it syncs automatically. Perfect for areas with unreliable internet."
        }
      },
      {
        "@type": "Question",
        "name": "Is my data safe?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes. Your business data is encrypted and kept private. We never share your information. Security is a top priority."
        }
      },
      {
        "@type": "Question",
        "name": "How long does setup take?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Most businesses are set up in under an hour. Sign up, add products by scanning barcodes or taking photos, and you're ready to go. Simple and intuitive."
        }
      }
    ]
  }
</script>

<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://dukarun.com"
      }
    ]
  }
</script>

<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://dukarun.com"
      }
    ]
  }
</script>

<main class="bg-base-100 text-base-content overflow-x-hidden w-full">
  <section id="hero" class="section scroll-mt-28 bg-base-100 pb-16 overflow-x-hidden">
    <div
      class="container-app grid gap-6 sm:gap-8 md:gap-10 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.9fr)] lg:items-center w-full"
    >
      <div class="home-hero-intro flex flex-col gap-4 sm:gap-6 md:gap-7 w-full min-w-0">
        <h1 class="w-full text-3xl font-bold leading-tight sm:text-4xl md:text-5xl lg:text-6xl">
          DUKARUN - Point and Sell
        </h1>
        <p class="w-full text-base md:text-lg text-base-content/70">
          Your phone is a powerful computer. Dukarun makes it a fast and efficient point of sale.
          Point your camera at the product and sell it in seconds. No complex hardware, no training
          needed. <br />
          Already have a desktop computer? Great! Dukarun works on your computer too.
        </p>
        <div class="flex flex-col gap-4 w-full sm:max-w-md sm:flex-row sm:items-center sm:gap-3">
          <a
            routerLink="/signup"
            [queryParams]="{ plan: 'pro', trial: 'true' }"
            class="btn btn-primary btn-lg shadow-lg shadow-primary/20 transition-transform duration-200 hover:-translate-y-0.5 hover:shadow-xl"
          >
            Start free 30-day trial
          </a>
          <a
            href="#journey"
            class="btn btn-ghost btn-lg border border-transparent transition-all duration-200 hover:-translate-y-0.5 hover:border-base-300 hover:bg-base-100"
          >
            See how it works
          </a>
        </div>
        <div class="grid grid-cols-2 gap-3 sm:gap-4 text-base md:text-sm font-medium w-full">
          @for (item of heroHighlights; track item.text) {
            <span
              class="badge badge-neutral badge-soft gap-1.5 sm:gap-2 text-base-content transition-transform duration-200 hover:-translate-y-0.5 whitespace-normal break-words min-w-0 flex items-center"
            >
              <span class="text-xl leading-none flex-shrink-0">{{ item.icon }}</span>
              <span class="flex-1 min-w-0">{{ item.text }}</span>
            </span>
          }
        </div>
      </div>
      <div class="home-hero-intro-delay flex justify-center w-full min-w-0">
        <figure
          class="w-full max-w-full sm:max-w-lg lg:max-w-xl xl:max-w-2xl rounded-2xl border border-base-300 bg-base-200 shadow-md overflow-hidden"
        >
          <!-- Mobile: Show mobile dashboard -->
          <img
            src="/assets/screenshots/dashboard_mobile.png"
            alt="Dukarun mobile dashboard showing business analytics and insights"
            class="w-full h-auto object-contain lg:hidden"
            loading="eager"
          />
          <!-- Desktop: Show smaller desktop dashboard -->
          <img
            src="/assets/screenshots/dashboard_720p.png"
            alt="Dukarun desktop dashboard showing business analytics and insights"
            class="hidden lg:block w-full h-auto object-contain"
            loading="eager"
          />
          <figcaption class="sr-only">
            Dukarun dashboard with business intelligence and analytics
          </figcaption>
        </figure>
      </div>
    </div>
  </section>

  <div class="divider divider-primary opacity-20 my-0"></div>

  <section class="section scroll-mt-28 bg-base-200" id="proof">
    <div class="container-app space-y-4 text-center">
      <span
        class="inline-flex items-center gap-2 text-sm md:text-xs font-semibold uppercase tracking-[0.18em] text-primary/80"
      >
        Proof in the aisle
      </span>
      <h2 class="text-3xl font-bold sm:text-4xl md:text-5xl lg:text-6xl lg:text-7xl">
        Shopkeepers across Kenya already run calmer days with Dukarun
      </h2>
      <div class="mx-auto max-w-2xl space-y-4">
        <div class="flex flex-wrap items-center justify-center gap-2">
          @for (business of businessExamples; track business.name) {
            <span
              class="badge badge-soft gap-1.5 text-base md:text-sm transition-transform duration-200 hover:-translate-y-0.5"
            >
              <span class="text-lg leading-none">{{ business.icon }}</span>
              <span>{{ business.name }}</span>
            </span>
          }
        </div>
        <p class="text-base text-base-content/70">
          Dukarun keeps your team in sync and your customers happy.
        </p>
      </div>
    </div>
    <div class="container-app mt-10 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
      <div
        class="group rounded-2xl border border-primary/20 bg-primary/5 p-6 text-left shadow-md transition-transform transition-shadow duration-200 hover:-translate-y-1 hover:border-primary/40 hover:shadow-xl"
      >
        <span class="text-2xl font-bold text-base-content">{{ socialProof.customerCount }}+</span>
        <span class="text-base md:text-sm text-base-content/70">active businesses</span>
      </div>
      <div
        class="group rounded-2xl border border-primary/20 bg-primary/5 p-6 text-left shadow-md transition-transform transition-shadow duration-200 hover:-translate-y-1 hover:border-primary/40 hover:shadow-xl"
      >
        <span class="text-2xl font-bold text-base-content">{{ socialProof.timeSaved }}</span>
        <span class="text-base md:text-sm text-base-content/70">saved every day</span>
      </div>
      <div
        class="group rounded-2xl border border-primary/20 bg-primary/5 p-6 text-left shadow-md transition-transform transition-shadow duration-200 hover:-translate-y-1 hover:border-primary/40 hover:shadow-xl"
      >
        <span class="text-2xl font-bold text-base-content">{{ socialProof.recentSignups }}</span>
        <span class="text-base md:text-sm text-base-content/70">new signups this month</span>
      </div>
    </div>
    <div class="container-app mt-10 flex justify-center">
      <figure
        class="group relative w-full max-w-xs rounded-2xl border border-base-300 bg-base-200 shadow-md transition-transform transition-shadow duration-200 hover:-translate-y-1 hover:shadow-xl hover:border-primary/40"
      >
        <video
          class="w-full h-auto object-contain"
          controls
          preload="metadata"
          playsinline
          aria-label="Real-world Dukarun usage screen recording from a Kenyan shop"
        >
          <source src="/assets/screenshots/screen-20251208-130405.mp4" type="video/mp4" />
          Your browser does not support the video tag.
        </video>
        <figcaption class="sr-only">
          Screen recording showing Dukarun POS in action at a Kenyan retail shop
        </figcaption>
      </figure>
    </div>
  </section>

  <div class="divider opacity-10 my-0"></div>

  <section
    class="section scroll-mt-28 bg-gradient-to-b from-base-100 to-base-200/50 py-16"
    id="pillars"
  >
    <div class="container-app space-y-4 text-center">
      <span
        class="badge badge-primary badge-outline badge-sm font-semibold uppercase tracking-wider"
      >
        Why Dukarun works
      </span>
      <h2 class="text-3xl font-bold sm:text-4xl md:text-5xl lg:text-6xl">
        Everything your team needs in one calm workspace
      </h2>
      <p class="mx-auto max-w-2xl text-base text-base-content/70">
        Dukarun makes the things that should be simple actually simple. From recording up a sale to
        knowing who owes what, all on your phone.
      </p>
    </div>
    <div class="container-app mt-10 grid gap-6 md:grid-cols-2 xl:grid-cols-4">
      @for (pillar of corePillars; track pillar.title) {
        <div class="flex flex-col gap-4">
          <article
            class="group flex flex-col rounded-2xl border border-base-300 bg-base-100 p-7 text-left shadow-lg transition-transform transition-shadow duration-200 hover:-translate-y-1 hover:shadow-xl hover:border-primary/40"
            itemscope
            itemtype="https://schema.org/SoftwareFeature"
          >
            <div class="flex flex-col gap-4 flex-1">
              <div
                class="flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10 text-primary"
              >
                @if (pillar.icon === 'camera') {
                  <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"
                    />
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"
                    />
                  </svg>
                } @else if (pillar.icon === 'package') {
                  <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"
                    />
                  </svg>
                } @else if (pillar.icon === 'currency') {
                  <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                    />
                  </svg>
                } @else if (pillar.icon === 'chart') {
                  <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
                    />
                  </svg>
                }
              </div>
              <h3 class="text-lg font-semibold">{{ pillar.title }}</h3>
              <p class="text-base-content/80 break-words">{{ pillar.description }}</p>
              <ul
                class="list-disc space-y-2 pl-4 text-base md:text-sm text-base-content/70 mt-auto"
              >
                @for (point of pillar.bullets; track point) {
                  <li>{{ point }}</li>
                }
              </ul>
            </div>
          </article>
        </div>
      }
    </div>
    <div class="container-app mt-12 flex justify-center">
      <figure
        class="group relative w-full max-w-xs rounded-2xl border border-base-300 bg-base-200 shadow-md transition-transform transition-shadow duration-200 hover:-translate-y-1 hover:shadow-xl hover:border-primary/40"
      >
        <div
          id="feature-carousel"
          class="carousel carousel-center w-full overflow-x-auto snap-x snap-mandatory"
        >
          @for (screenshot of allFeatureScreenshots; track screenshot.src) {
            <div
              class="carousel-item w-full flex-shrink-0 snap-center flex items-center justify-center"
            >
              <img
                [src]="screenshot.src"
                [alt]="screenshot.alt"
                loading="lazy"
                class="w-full h-auto object-contain"
              />
            </div>
          }
        </div>
        <figcaption class="sr-only">
          Dukarun feature screenshots showing all key functionality
        </figcaption>
      </figure>
    </div>
  </section>

  <div class="divider divider-primary opacity-15 my-0"></div>

  <section class="section scroll-mt-28 bg-base-300/30" id="ease-of-use">
    <div class="container-app space-y-4 text-center">
      <span class="badge badge-soft badge-sm font-semibold uppercase tracking-wider">
        Designed for everyone
      </span>
      <h2 class="text-2xl font-bold sm:text-3xl md:text-4xl lg:text-5xl">
        Professional accounting without the complexity
      </h2>
      <p class="mx-auto max-w-2xl text-base text-base-content/70">
        Dukarun lowers the barrier to professional accounting. No complex hardware, no computer
        literacy required. If you can use a smartphone, you can run a professional business system.
        Simple tutorials guide you, but most things are intuitive.
      </p>
    </div>
    <div class="container-app mt-10 grid gap-6 md:grid-cols-2 xl:grid-cols-3">
      @for (benefit of easeOfUseBenefits; track benefit.title) {
        <article
          class="group rounded-2xl border-2 border-base-300 bg-base-50 p-6 text-left shadow-md transition-transform transition-shadow duration-200 hover:-translate-y-1 hover:shadow-xl hover:border-primary/40"
        >
          <div class="flex flex-col gap-4">
            <div
              class="flex h-10 w-10 items-center justify-center rounded-lg bg-base-200 text-base-content/80"
            >
              @if (benefit.icon === 'phone') {
                <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                  />
                </svg>
              } @else if (benefit.icon === 'graduation') {
                <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 14l9-5-9-5-9 5 9 5z"
                  />
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"
                  />
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 14v7M5 12h14"
                  />
                </svg>
              } @else if (benefit.icon === 'book') {
                <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"
                  />
                </svg>
              } @else if (benefit.icon === 'lightbulb') {
                <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"
                  />
                </svg>
              } @else if (benefit.icon === 'chart') {
                <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
                  />
                </svg>
              } @else if (benefit.icon === 'rocket') {
                <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M13 10V3L4 14h7v7l9-11h-7z"
                  />
                </svg>
              }
            </div>
            <h3 class="text-lg font-semibold">{{ benefit.title }}</h3>
            <p class="text-base-content/80">{{ benefit.description }}</p>
          </div>
        </article>
      }
    </div>
  </section>

  <div class="divider opacity-10 my-0"></div>

  <section class="section scroll-mt-28 bg-base-200/40 py-16" id="journey">
    <div class="container-app space-y-4 text-center">
      <span class="badge badge-outline badge-sm font-semibold uppercase tracking-wider">
        From first login to confident selling
      </span>
      <h2 class="text-3xl font-bold sm:text-4xl md:text-5xl lg:text-6xl">
        Three smooth steps to a calm back office
      </h2>
      <p class="mx-auto max-w-2xl text-base text-base-content/70">
        We designed the flow so shop owners, managers, and cashiers always know what to do next.
      </p>
    </div>
    <div class="container-app mt-10">
      <div class="relative grid gap-12 md:grid-cols-3 md:gap-8">
        @for (stage of journeyStages; track stage.number) {
          <div
            class="relative flex flex-col items-center gap-6 journey-step"
            [class.journey-step-final]="$index === 2"
          >
            <!-- Connecting arrow from previous step (desktop only) - subtle progression -->
            @if ($index > 0) {
              @if ($index === 1) {
                <div
                  class="hidden md:block absolute top-10 journey-connector h-0.5 z-0 bg-gradient-to-r from-primary/20 via-primary/35 to-primary/50"
                  aria-hidden="true"
                >
                  <svg
                    class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2 w-5 h-5 text-primary/50 transition-all duration-300"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                    aria-hidden="true"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </div>
              }
              @if ($index === 2) {
                <div
                  class="hidden md:block absolute top-10 journey-connector h-0.5 z-0 bg-gradient-to-r from-primary/25 via-primary/45 to-primary/65"
                  aria-hidden="true"
                >
                  <svg
                    class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2 w-5 h-5 text-primary/65 transition-all duration-300"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                    aria-hidden="true"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </div>
              }
            }

            <!-- Step number badge - subtle progression -->
            <div class="relative z-10 transition-all duration-300">
              @if ($index === 0) {
                <span
                  class="grid h-20 w-20 place-items-center rounded-full bg-primary text-2xl font-bold text-primary-content shadow-lg ring-4 ring-base-200 transition-all duration-300 hover:scale-105"
                >
                  {{ stage.number }}
                </span>
              }
              @if ($index === 1) {
                <span
                  class="grid h-20 w-20 place-items-center rounded-full bg-primary text-2xl font-bold text-primary-content shadow-md shadow-primary/10 ring-4 ring-base-200 transition-all duration-300 hover:scale-105"
                >
                  {{ stage.number }}
                </span>
              }
              @if ($index === 2) {
                <span
                  class="grid h-20 w-20 place-items-center rounded-full bg-primary text-2xl font-bold text-primary-content shadow-xl shadow-primary/20 ring-4 ring-primary/10 transition-all duration-300 hover:scale-105 scale-105"
                >
                  {{ stage.number }}
                </span>
              }
            </div>

            <!-- All content below the number -->
            <div class="flex flex-col gap-4 w-full">
              <!-- Title -->
              <h3
                class="text-xl font-bold text-base-content text-center transition-all duration-300"
              >
                {{ stage.title }}
              </h3>

              <!-- Content card - subtle progression -->
              @if ($index === 0) {
                <article
                  class="group rounded-2xl border border-base-300 bg-base-100 p-6 text-left shadow-md transition-all duration-300 hover:-translate-y-1 hover:shadow-lg"
                >
                  <div class="space-y-3">
                    <p class="font-semibold text-base text-base-content/90">{{ stage.summary }}</p>
                    <p class="text-base md:text-sm text-base-content/70 leading-relaxed">
                      {{ stage.detail }}
                    </p>
                  </div>
                </article>
              }
              @if ($index === 1) {
                <article
                  class="group rounded-2xl border border-primary/20 bg-base-100 p-6 text-left shadow-lg shadow-primary/5 transition-all duration-300 hover:-translate-y-1 hover:shadow-xl"
                >
                  <div class="space-y-3">
                    <p class="font-semibold text-base text-base-content/90">{{ stage.summary }}</p>
                    <p class="text-base md:text-sm text-base-content/70 leading-relaxed">
                      {{ stage.detail }}
                    </p>
                  </div>
                </article>
              }
              @if ($index === 2) {
                <article
                  class="group rounded-2xl border border-primary/30 bg-gradient-to-br from-base-100 to-primary/3 p-6 text-left shadow-xl shadow-primary/8 transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:border-primary/40"
                >
                  <div class="space-y-3">
                    <p class="font-semibold text-base text-base-content/90">{{ stage.summary }}</p>
                    <p class="text-base md:text-sm text-base-content/70 leading-relaxed">
                      {{ stage.detail }}
                    </p>
                  </div>
                </article>
              }

              <!-- Screenshot -->
              @if (stage.screenshot) {
                <figure
                  class="group relative w-full overflow-hidden rounded-xl border border-base-300 bg-base-200 shadow-sm transition-transform transition-shadow duration-200 hover:-translate-y-0.5 hover:shadow-md hover:border-primary/30"
                >
                  @if (stage.screenshot.placeholder) {
                    <div
                      class="aspect-video flex items-center justify-center bg-gradient-to-br from-base-200 to-base-300"
                      [attr.aria-label]="stage.screenshot.alt"
                    >
                      <div class="flex flex-col items-center gap-2 text-base-content/60">
                        <svg class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
                          />
                        </svg>
                        <p class="text-sm md:text-xs font-medium">{{ stage.screenshot.alt }}</p>
                      </div>
                    </div>
                  } @else {
                    <img
                      [src]="stage.screenshot.src"
                      [alt]="stage.screenshot.alt"
                      loading="lazy"
                      class="w-full aspect-video object-cover"
                    />
                  }
                  <figcaption class="sr-only">{{ stage.screenshot.alt }}</figcaption>
                </figure>
              }
            </div>
          </div>
        }
      </div>
    </div>
  </section>

  <div class="divider divider-primary opacity-20 my-0"></div>

  <section class="section scroll-mt-28 bg-base-100 py-16" id="pricing-preview">
    <div class="container-app">
      <div class="text-center space-y-4">
        <span
          class="badge badge-primary badge-soft badge-sm font-semibold uppercase tracking-wider"
        >
          Simple pricing
        </span>
        <h2 class="text-3xl font-bold sm:text-4xl md:text-5xl lg:text-6xl">
          One platform, right-sized for you
        </h2>
        <p class="mx-auto max-w-2xl text-base text-base-content/70">
          Pause anytime, keep your data, and upgrade when youâ€™re ready.
        </p>
      </div>
      <div class="mt-10 grid gap-6 lg:grid-cols-3 lg:items-start">
        @for (plan of pricingPlans; track plan.name) {
          <div
            class="group relative flex flex-col rounded-3xl border p-8 transition-all duration-300 hover:-translate-y-1 hover:shadow-xl"
            [class.border-primary]="plan.popular"
            [class.bg-base-100]="!plan.popular"
            [class.bg-base-200/30]="plan.popular"
            [class.shadow-lg]="plan.popular"
            [class.border-base-300]="!plan.popular"
          >
            @if (plan.popular) {
              <div class="absolute -top-3 left-1/2 -translate-x-1/2">
                <span class="badge badge-primary badge-sm font-semibold uppercase tracking-wider">
                  Most Popular
                </span>
              </div>
            }

            <div class="mb-6 space-y-2">
              <h3 class="text-xl font-bold">{{ plan.name }}</h3>
              <div class="flex items-baseline gap-1">
                <span class="text-3xl font-bold">{{ plan.monthlyPrice }}</span>
                @if (plan.monthlyPrice !== 'Custom') {
                  <span class="text-base md:text-sm text-base-content/70">/month</span>
                }
              </div>
              <p class="text-base md:text-sm text-base-content/70">{{ plan.description }}</p>
            </div>

            <ul class="mb-8 flex-1 space-y-3 text-base md:text-sm">
              @for (feature of plan.features; track feature.text) {
                <li class="flex items-start gap-3">
                  <span class="text-success text-lg leading-none">âœ“</span>
                  <span [class.text-base-content]="feature.included" class="text-base-content/80">
                    {{ feature.text }}
                  </span>
                </li>
              }
            </ul>

            <a
              [routerLink]="plan.ctaLink.split('?')[0]"
              [queryParams]="
                plan.ctaLink.includes('?')
                  ? { plan: plan.ctaLink.split('=')[1].split('&')[0], trial: 'true' }
                  : null
              "
              class="btn w-full transition-transform duration-200 hover:-translate-y-0.5"
              [class.btn-primary]="plan.popular"
              [class.btn-outline]="!plan.popular"
            >
              {{ plan.ctaText }}
            </a>
          </div>
        }
      </div>
    </div>
  </section>

  <div class="divider opacity-10 my-0"></div>

  <section class="section scroll-mt-28 bg-base-200 py-16" id="faq">
    <div class="container-app space-y-4 text-center">
      <span
        class="inline-flex items-center gap-2 text-sm md:text-xs font-semibold uppercase tracking-[0.18em] text-primary/80"
      >
        Questions we hear most
      </span>
      <h2 class="text-2xl font-bold sm:text-3xl md:text-4xl lg:text-5xl">
        Answers in plain language
      </h2>
      <p class="mx-auto max-w-2xl text-base text-base-content/70">
        Still exploring? These short answers help you decide if Dukarun fits your shop.
      </p>
    </div>
    <div class="container-app mt-10 grid gap-8 lg:mt-12 lg:grid-cols-[0.9fr,1.1fr]">
      <div class="grid gap-4 md:grid-cols-3">
        <div
          class="group rounded-2xl border border-base-300 bg-base-50 p-6 text-left shadow-md transition-transform transition-shadow duration-200 hover:-translate-y-1 hover:shadow-xl hover:border-primary/40"
        >
          <div
            class="flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10 text-primary"
          >
            <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
              />
            </svg>
          </div>
          <div class="mt-3 space-y-1">
            <h3 class="text-lg font-semibold">Safe to use</h3>
            <p class="text-base md:text-sm text-base-content/70">
              Industry-standard security keeps your business data private.
            </p>
          </div>
        </div>
        <div
          class="group rounded-2xl border border-base-300 bg-base-50 p-6 text-left shadow-md transition-transform transition-shadow duration-200 hover:-translate-y-1 hover:shadow-xl hover:border-primary/40"
        >
          <span class="text-3xl">ðŸ‡°ðŸ‡ª</span>
          <div class="mt-3 space-y-1">
            <h3 class="text-lg font-semibold">Made for Kenya</h3>
            <p class="text-base md:text-sm text-base-content/70">
              Optimised for M-Pesa, cash, and offline-first selling.
            </p>
          </div>
        </div>
        <div
          class="group rounded-2xl border border-base-300 bg-base-50 p-6 text-left shadow-md transition-transform transition-shadow duration-200 hover:-translate-y-1 hover:shadow-xl hover:border-primary/40"
        >
          <div
            class="flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10 text-primary"
          >
            <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
              />
            </svg>
          </div>
          <div class="mt-3 space-y-1">
            <h3 class="text-lg font-semibold">Available support</h3>
            <p class="text-base md:text-sm text-base-content/70">
              Friendly onboarding and ongoing check-ins for your team.
            </p>
          </div>
        </div>
      </div>
      <div class="grid gap-3">
        @for (faq of faqItems(); track $index) {
          <details
            class="collapse collapse-plus border border-base-300 bg-base-200/60 text-left transition-colors duration-200"
            [open]="faq.open"
          >
            <summary
              class="collapse-title text-base font-semibold hover:text-primary"
              (click)="toggleFAQ($index)"
            >
              {{ faq.question }}
            </summary>
            <div class="collapse-content text-base md:text-sm text-base-content">
              <p>{{ faq.answer }}</p>
            </div>
          </details>
        }
      </div>
    </div>
    <div
      class="container-app mt-12 grid gap-6 rounded-3xl border border-base-300 bg-base-100 p-8 shadow-xl md:grid-cols-[2fr,1fr] md:items-center"
    >
      <div class="space-y-4">
        <h2 class="text-2xl font-bold sm:text-3xl md:text-4xl lg:text-5xl">Want to dive deeper?</h2>
        <p class="text-base-content/70">
          Explore the full feature tour or start your trial and feel it for yourself.
        </p>
      </div>
      <div class="flex flex-col gap-3 md:flex-row md:justify-end">
        <a
          routerLink="/features"
          class="btn btn-lg btn-outline border border-transparent transition-all duration-200 hover:-translate-y-0.5 hover:border-base-300 hover:bg-base-100"
        >
          Explore the full feature tour
        </a>
        <a
          routerLink="/signup"
          [queryParams]="{ plan: 'pro', trial: 'true' }"
          class="btn btn-lg btn-primary shadow-lg shadow-primary/20 transition-transform duration-200 hover:-translate-y-0.5 hover:shadow-xl"
        >
          Start free 30-day trial
        </a>
      </div>
    </div>
  </section>

  <div class="divider opacity-10 my-0"></div>

  <section class="section scroll-mt-28 bg-base-200 py-16" id="testimonials">
    <div class="container-app space-y-4 text-center">
      <span
        class="inline-flex items-center gap-2 text-sm md:text-xs font-semibold uppercase tracking-[0.18em] text-primary/80"
      >
        What our customers say
      </span>
      <h2 class="text-2xl font-bold sm:text-3xl md:text-4xl lg:text-5xl">
        Trusted by shopkeepers across Kenya
      </h2>
    </div>
    <div class="container-app mt-10 grid gap-6 md:grid-cols-3">
      @for (testimonial of testimonials; track $index) {
        <figure
          class="group rounded-2xl border border-base-300 bg-base-100 p-6 text-left shadow-md transition-transform transition-shadow duration-200 hover:-translate-y-1 hover:border-primary/40 hover:shadow-xl"
        >
          <span class="text-4xl text-primary/40 leading-none">"</span>
          <blockquote class="mt-2 text-base-content/70">{{ testimonial.quote }}</blockquote>
          @if (testimonial.metric) {
            <span class="badge badge-success badge-sm mt-2 w-fit">{{ testimonial.metric }}</span>
          }
          <figcaption class="mt-4 flex flex-col gap-1 text-base md:text-sm text-base-content/70">
            <strong class="text-base text-base-content">{{ testimonial.author }}</strong>
            <span>{{ testimonial.title }}</span>
          </figcaption>
        </figure>
      }
    </div>
  </section>
</main>

<app-footer />
