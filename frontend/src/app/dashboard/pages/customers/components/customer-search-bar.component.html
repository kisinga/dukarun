<!-- Customer Search Bar -->
<div class="flex flex-col gap-2 sm:gap-4">
  <!-- Active Filter Badges -->
  @if (
    activeFilters.verified ||
    activeFilters.creditApproved ||
    activeFilters.frozen ||
    activeFilters.recent
  ) {
    <div class="flex flex-wrap gap-2">
      @if (activeFilters.verified) {
        <span [class]="'badge badge-' + (filterColors.verified || 'success') + ' gap-2'">
          {{ getFilterLabel('verified') }}
          <button
            class="btn btn-ghost btn-xs btn-circle p-0 h-4 w-4 min-h-0"
            (click)="onClearFilter('verified')"
            type="button"
            aria-label="Clear filter"
          >
            ×
          </button>
        </span>
      }
      @if (activeFilters.creditApproved) {
        <span [class]="'badge badge-' + (filterColors.creditApproved || 'primary') + ' gap-2'">
          {{ getFilterLabel('creditApproved') }}
          <button
            class="btn btn-ghost btn-xs btn-circle p-0 h-4 w-4 min-h-0"
            (click)="onClearFilter('creditApproved')"
            type="button"
            aria-label="Clear filter"
          >
            ×
          </button>
        </span>
      }
      @if (activeFilters.frozen) {
        <span [class]="'badge badge-' + (filterColors.frozen || 'neutral') + ' gap-2'">
          {{ getFilterLabel('frozen') }}
          <button
            class="btn btn-ghost btn-xs btn-circle p-0 h-4 w-4 min-h-0"
            (click)="onClearFilter('frozen')"
            type="button"
            aria-label="Clear filter"
          >
            ×
          </button>
        </span>
      }
      @if (activeFilters.recent) {
        <span [class]="'badge badge-' + (filterColors.recent || 'warning') + ' gap-2'">
          {{ getFilterLabel('recent') }}
          <button
            class="btn btn-ghost btn-xs btn-circle p-0 h-4 w-4 min-h-0"
            (click)="onClearFilter('recent')"
            type="button"
            aria-label="Clear filter"
          >
            ×
          </button>
        </span>
      }
    </div>
  }

  <div class="flex flex-col sm:flex-row gap-4">
    <div class="flex-1">
      <div class="relative">
        <input
          type="text"
          [value]="searchQuery"
          (input)="onSearchChange($event)"
          placeholder="Search customers by name, email, or phone..."
          class="input input-bordered w-full pl-10"
        />
        <svg
          class="absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-base-content/60"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
          />
        </svg>
      </div>
    </div>

    <div class="flex gap-2">
      <button class="btn btn-outline">
        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"
          ></path>
        </svg>
        Filter
      </button>
      <button class="btn btn-outline">
        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"
          ></path>
        </svg>
        Export
      </button>
    </div>
  </div>
</div>
